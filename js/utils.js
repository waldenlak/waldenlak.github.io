const btf={debounce:function(t,e,n){let o;return function(){const i=this,a=arguments,l=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||t.apply(i,a)}),e),l&&t.apply(i,a)}},throttle:function(t,e,n){let o,i,a,l=0;n||(n={});const s=function(){l=!1===n.leading?0:(new Date).getTime(),o=null,t.apply(i,a),o||(i=a=null)};return function(){const r=(new Date).getTime();l||!1!==n.leading||(l=r);const d=e-(r-l);i=this,a=arguments,d<=0||d>e?(o&&(clearTimeout(o),o=null),l=r,t.apply(i,a),o||(i=a=null)):o||!1===n.trailing||(o=setTimeout(s,d))}},sidebarPaddingR:()=>{const t=window.innerWidth,e=document.body.clientWidth;t!==e&&(document.body.style.paddingRight=t-e+"px")},snackbarShow:(t,e=!1,n=2e3)=>{const{position:o,bgLight:i,bgDark:a}=GLOBAL_CONFIG.Snackbar,l="light"===document.documentElement.getAttribute("data-theme")?i:a;Snackbar.show({text:t,backgroundColor:l,showAction:e,duration:n,pos:o,customClass:"snackbar-css"})},diffDate:(t,e=!1)=>{const n=new Date,o=new Date(t),i=n.getTime()-o.getTime(),a=36e5,l=24*a,{dateSuffix:s}=GLOBAL_CONFIG;if(!e)return parseInt(i/l);const r=i/2592e6,d=i/l,c=i/a,m=i/6e4;return r>12?o.toISOString().slice(0,10):r>=1?`${parseInt(r)} ${s.month}`:d>=1?`${parseInt(d)} ${s.day}`:c>=1?`${parseInt(c)} ${s.hour}`:m>=1?`${parseInt(m)} ${s.min}`:s.just},loadComment:(t,e)=>{if("IntersectionObserver"in window){const n=new IntersectionObserver((t=>{t[0].isIntersecting&&(e(),n.disconnect())}),{threshold:[0]});n.observe(t)}else e()},scrollToDest:(t,e)=>{if(t<0||e<0)return;const n=window.scrollY||window.screenTop;if(t-=70,"CSS"in window&&CSS.supports("scroll-behavior","smooth"))return void window.scrollTo({top:t,behavior:"smooth"});let o=null;e=e||500,window.requestAnimationFrame((function i(a){if(o=o||a,n<t){const l=a-o;window.scrollTo(0,(t-n)*l/e+n),l<e?window.requestAnimationFrame(i):window.scrollTo(0,t)}else{const l=a-o;window.scrollTo(0,n-(n-t)*l/e),l<e?window.requestAnimationFrame(i):window.scrollTo(0,t)}}))},animateIn:(t,e)=>{t.style.display="block",t.style.animation=e},animateOut:(t,e)=>{t.addEventListener("animationend",(function e(){t.style.display="",t.style.animation="",t.removeEventListener("animationend",e)})),t.style.animation=e},wrap:(t,e,n)=>{const o=document.createElement(e);for(const[t,e]of Object.entries(n))o.setAttribute(t,e);t.parentNode.insertBefore(o,t),o.appendChild(t)},isHidden:t=>0===t.offsetHeight&&0===t.offsetWidth,getEleTop:t=>{let e=t.offsetTop,n=t.offsetParent;for(;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e},loadLightbox:t=>{const e=GLOBAL_CONFIG.lightbox;"mediumZoom"===e&&mediumZoom(t,{background:"var(--zoom-bg)"}),"fancybox"===e&&(Array.from(t).forEach((t=>{if("A"!==t.parentNode.tagName){const e=t.dataset.lazySrc||t.src,n=t.title||t.alt||"";btf.wrap(t,"a",{href:e,"data-fancybox":"gallery","data-caption":n,"data-thumb":e})}})),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),window.fancyboxRun=!0))},setLoading:{add:t=>{t.insertAdjacentHTML("afterend",'\n        <div class="loading-container">\n          <div class="loading-item">\n            <div></div><div></div><div></div><div></div><div></div>\n          </div>\n        </div>\n      ')},remove:t=>{t.nextElementSibling.remove()}},updateAnchor:t=>{if(t!==window.location.hash){t||(t=location.pathname);const e=GLOBAL_CONFIG_SITE.title;window.history.replaceState({url:location.href,title:e},e,t)}},getScrollPercent:(t,e)=>{const n=e.clientHeight,o=document.documentElement.clientHeight,i=(t-e.offsetTop)/(n>o?n-o:document.documentElement.scrollHeight-o),a=Math.round(100*i);return a>100?100:a<=0?0:a},addGlobalFn:(t,e,n=!1,o=window)=>{const i=o.globalFn||{},a=i[t]||{};n&&a[n]||(a[n=n||Object.keys(a).length]=e,i[t]=a,o.globalFn=i)},addEventListenerPjax:(t,e,n,o=!1)=>{t.addEventListener(e,n,o),btf.addGlobalFn("pjax",(()=>{t.removeEventListener(e,n,o)}))},removeGlobalFnEvent:(t,e=window)=>{const{globalFn:n={}}=e,o=n[t]||{},i=Object.keys(o);i.length&&(i.forEach((t=>{o[t]()})),delete e.globalFn[t])}};